<div class="fixed top-0 left-0 z-50 w-full h-full  overflow-y-auto bg-[#f1f5f9]" cdkScrollable>

    <!-- Header -->
    <!-- Header con fondo blanco -->
    <div
        class="flex flex-col sm:flex-row justify-between items-center p-4 sm:p-6 border-b bg-white dark:bg-transparent">
        <div class="flex-1">
            <!-- Title -->
            <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight truncate">Reporte Estudiante</h2>
        </div>
        <!-- Actions -->
        <div class="mt-4 sm:mt-0 flex gap-2">
            @for (button of botonesDimensiones; track button) {
            <button (click)="button.accion()" [ngClass]="getButtonClassDimension(button)"
                class="px-4 py-2 text-sm sm:text-base rounded-full transition duration-200 ease-in-out">
                {{ button.texto }}
            </button>
            }
            <!-- BotÃ³n para regresar -->
            <button mat-stroked-button (click)="returnRoute()">
                Regresar
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class=" m-10 p-10 xl:col-span-2 flex flex-col flex-auto bg-card shadow rounded-2xl">
        @if(isLoading){
        <div class="flex justify-center items-center">
            <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
        </div>
        } @else {
        <h2>{{ student?.dni }}</h2>
        <h3>{{ student?.mean }}</h3>
        <div>
            @for(scale of scales; track scale){
            <details class="mb-4 bg-white shadow">
                <summary class="p-4 cursor-pointer flex justify-between items-center">
                    <span class="font-bold"
                        [ngClass]="filtrosSeleccionados.Dimension == 1 ? 'text-[#1e293b]' : 'text-orange-400'">
                        {{ scale.name }}
                    </span>
                    <span
                        [className]="getMeanClasses(scale.mean) + ' px-2 py-1 rounded text-sm flex items-center justify-center'">
                        {{getConceptoDeResultadosPsi(scale.mean)}} ({{ scale.mean | number: ".1-1" }})
                    </span>
                </summary>
                <div class="p-4">
                    <ul class="space-y-2">
                        <li *ngFor="let indicator of scale.indicators" class="flex gap-2 items-center">
                            <span class="text-[#64748b]">{{ indicator.name }}</span>
                            <div
                                [className]="getMeanClasses(indicator.mean) + ' px-2 py-1 rounded text-sm flex items-center justify-center'">
                                {{getConceptoDeResultadosPsi(indicator.mean)}} ({{ indicator.mean | number:
                                ".1-1"
                                }})
                            </div>
                        </li>
                    </ul>
                </div>
            </details>
            }
        </div>
        }
    </div>
</div>
