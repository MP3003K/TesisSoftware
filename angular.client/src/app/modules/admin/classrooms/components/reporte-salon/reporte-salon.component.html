<div class="flex h-10 w-min mb-4 overflow-hidden shadow-md rounded-full font-normal">
    @for (button of botonesDimensiones; track button) {
    <button (click)="button.accion()" [ngClass]="getButtonClassDimension(button)"
        class="w-max px-6 py-2 transition-all duration-200 ease-in-out">
        {{ button.texto }}
    </button>
    }
</div>

@if(!filtrosSeleccionados.succeeded){
<div class="mx-auto bg-blue-100 border-blue-500 rounded-xl shadow-md overflow-hidden m-4">
    <div class="md:flex">
        <div class="p-8">
            <div class="uppercase tracking-wide text-lg text-blue-500 font-semibold">Información</div>
            <p class="mt-2 text-gray-700 font-bold text-lg">
                Seleccione
                {{
                (!this.filtrosSeleccionados.Unidad ? 'una unidad, ' : '') +
                (!this.filtrosSeleccionados.Grado) +
                (!this.filtrosSeleccionados.Seccion ? 'una sección. ' : '')
                }}.
            </p>
        </div>
    </div>
</div>
}
@else if (reporteSalonFiltrado.data?.length == 0) {
<div class="max-w-md mx-auto bg-orange-100 border-orange-500 rounded-xl shadow-md overflow-hidden md:max-w-2xl m-4">
    <div class="md:flex">
        <div class="p-8">
            <div class="uppercase tracking-wide text-sm text-orange-500 font-semibold">Información</div>
            <p class="mt-2 text-gray-500 font-bold">
                Ningun test psicologico realizado.
            </p>
        </div>
    </div>
</div>
}
@else if(reporteSalonFiltrado.data?.length > 0){
<div class="xl:col-span-2 flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden">
    <div class="p-6">
        <div class="mr-4 text-lg font-medium tracking-tight leading-6 truncate">
            <b>Resultados de los estudiantes</b>
        </div>

        <div class="flex h-10 w-min mt-4 overflow-hidden shadow-md rounded-full font-normal">
            @for (button of botonesEstadosVisibles; track button) {
            <button (click)="button.accion()" [ngClass]="getButtonClassEstado(button)"
                class="w-max px-6 py-2 transition-all duration-200 ease-in-out">
                {{ button.texto }}
            </button>
            }
        </div>
    </div>
    <div class="overflow-x-auto mx-6" (click)="this.reporteSalonFiltrado.sort = this.estudiantesTableMatSort">
        <table mat-table [dataSource]="reporteSalonFiltrado" matSort #estudiantesTable class="mat-elevation-z8">

            <!-- Nombre Column -->
            <ng-container matColumnDef="nombre">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
                <td mat-cell *matCellDef="let element"> {{element.nombre}} </td>
            </ng-container>
            <!-- DNI Column -->
            <ng-container matColumnDef="DNI">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>DNI</th>
                <td mat-cell *matCellDef="let element"> {{element.DNI}} </td>
            </ng-container>

            <!-- Estado Evaluacion Estudiante Column -->
            <ng-container matColumnDef="estadoEvaluacionEstudiante">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado Evaluacion</th>
                <td mat-cell *matCellDef="let element">
                    <span
                        class="inline-flex items-center font-bold text-xs px-2.5 py-0.5 rounded-full tracking-wide uppercase"
                        [ngClass]="{
                                        'bg-orange-200 text-orange-800 dark:bg-orange-600 dark:text-orange-50': element.estadoEvaluacionEstudiante === 'P',
                                        'bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-50': element.estadoEvaluacionEstudiante === 'N',
                                        'bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50': element.estadoEvaluacionEstudiante === 'F'
                                    }">
                        <span class="leading-relaxed whitespace-nowrap">
                            {{element.estadoEvaluacionEstudiante === 'F' ? 'Terminado' :
                            element.estadoEvaluacionEstudiante === 'N' ? 'No iniciado' :
                            element.estadoEvaluacionEstudiante === 'P' ? 'En proceso' : ''}}
                        </span>
                    </span>
                </td>
            </ng-container>
            <!-- Promedio Column -->
            <ng-container matColumnDef="promedio">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Resultado</th>
                <td mat-cell *matCellDef="let element">
                    <div class="inline-flex items-center font-bold text-xs px-2.5 py-0.5 rounded-full tracking-wide uppercase"
                        [ngClass]="obtenerClasePorPuntajeReporteEstudiante(element.promedio)">
                        {{obtenerCategoriaPorPuntajeReporteEstudiante(element.promedio)}}
                        ({{element.promedio | number:'1.1-1'}})
                    </div>
                </td>
            </ng-container>
            <ng-container matColumnDef="opciones">
                <th mat-header-cell *matHeaderCellDef>Opciones</th>
                <td mat-cell *matCellDef="let element">
                    <!-- <button [disabled]="element.mean == 0 || element.estadoEvaluacionEstudiante !='F'" mat-icon-button
                        (click)="redirectStudent(element.id)">
                        <mat-icon>visibility</mat-icon>
                    </button> -->
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>d
</div>
}