<div class="absolute inset-0 flex flex-col min-w-0 overflow-y-auto" cdkScrollable #parentSection>
    <!-- Header -->
    <div
        class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between p-6 sm:py-8 sm:px-10 border-b bg-card dark:bg-transparent">
        <div class="flex-1 min-w-0">
            <!-- Breadcrumbs -->
            <div>
                <div class="hidden sm:flex flex-wrap items-center font-medium">
                    <div>
                        <a class="whitespace-nowrap text-primary-500">Dashboard</a>
                    </div>

                    <div class="flex items-center ml-1 whitespace-nowrap">
                        <mat-icon class="icon-size-5 text-secondary"
                            [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
                        <span class="ml-1 text-secondary">Evaluaci贸n Psicol贸gica</span>
                    </div>
                </div>
                <div class="flex sm:hidden">
                    <a class="inline-flex items-center -ml-1.5 text-secondary font-medium" [routerLink]="'./..'">
                        <mat-icon class="icon-size-5 text-secondary"
                            [svgIcon]="'heroicons_solid:chevron-left'"></mat-icon>
                        <span class="ml-1">Regresar</span>
                    </a>
                </div>
            </div>
            <!-- Title -->
            <div class="mt-2">
                <h2 class="text-3xl md:text-4xl font-extrabold tracking-tight leading-7 sm:leading-10 truncate">
                    Evaluaciones
                </h2>
            </div>
        </div>
    </div>

    <div class="flex-auto px-6 sm:px-10 sm:pt-5">
        <div class="w-auto max-w-72">
            <button mat-raised-button class="mb-5" color="accent" (click)="obtenerEvalucionesEstudiantes()">
                <mat-icon>refresh</mat-icon>
                Recargar evaluaciones
            </button>

            @if(questionary != undefined ){

            @if(questionary.estadoAula == "F") {
            <mat-card class="col-span-4">
                <mat-card-content>
                    <div class="text-center">
                        Evaluacion psicologica cerrada por el docente
                    </div>
                </mat-card-content>
            </mat-card>
            } @else if (questionary.estadoAula == "N") {
            <mat-card class="col-span-4">
                <mat-card-content>
                    <div class="text-center">
                        El docente aun no ha iniciado la evaluacion psicologica
                    </div>
                </mat-card-content>
            </mat-card>
            }
            @else if(questionary.estadoAula == "P") {
            <mat-card class="p-3">
                <mat-card-content>
                    <div class="mb-3">
                        <b>Inicio: </b>{{ questionary.FechaInicio | date : "dd/MM/yyyy" }}
                    </div>
                    <div class="mb-3">
                        <b>Fin: </b>{{ questionary.FechaFin | date : "dd/MM/yyyy" }}
                    </div>
                    <div>
                        <b>Estado: </b>
                        <span class="px-2 py-1 rounded shadow text-base font-bold" [ngClass]=" questionary.Estado == 'N' ? 'bg-gray-200 text-gray-800'
                                                                            : questionary.Estado == 'P'
                                                                            ? 'bg-orange-200 text-orange-800'
                                                                            : 'bg-green-200 text-green-800'
                                                                    ">
                            {{
                            questionary.Estado == "N"
                            ? "Sin Comenzar"
                            : questionary.Estado == "P"
                            ? 'En Proceso'
                            : "Completada"
                            }}
                        </span>
                    </div>
                    @if(questionary.Estado != "F"){
                    <mat-card-actions class="mt-2 flex justify-center">
                        <button mat-fab extended (click)="goToQuestionary(questionary.Id)"
                            class="mt-2 bg-[#4f46e5] opacity-80 hover:bg-[#4338ca]  hover:opacity-100 text-white font-bold py-2 px-4 rounded shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                            Iniciar Evaluaci贸n Psicol贸gica
                        </button>
                    </mat-card-actions>
                    }

                </mat-card-content>
            </mat-card>
            }
            } @else {
            <mat-card class="col-span-4 text-lg text-[#4F46E5]">
                <mat-card-content>
                    <div class="text-center">
                        <b>
                            No existen evaluaciones psicologicas asignadas.
                        </b>
                    </div>
                </mat-card-content>
            </mat-card>
            }
        </div>
    </div>
</div>
